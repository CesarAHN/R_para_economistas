[
["vectores-aleatorios-y-selección-de-elementos-.html", "Chapter 4 VECTORES ALEATORIOS y SELECCIÓN DE ELEMENTOS. 4.1 CREACIÓN DE VECTORES CON ELEMENTOS ALEATORIOS. 4.2 SELECCIÓN DE ELEMENTOS.", " Chapter 4 VECTORES ALEATORIOS y SELECCIÓN DE ELEMENTOS. En este capítulo usted aprenderá a crear vectores de elementos aleatorios, por último, se mostrará como seleccionar uno o varios elementos de un vector. 4.1 CREACIÓN DE VECTORES CON ELEMENTOS ALEATORIOS. Para poder crear vectores con elementos aleatorios tendremos que usar la función sample(). Veamos a continuación su sintaxis. sample(x, size, replace = FALSE, prob = NULL) Donde: x: Elemento o vector que contiene el universo de elementos. size: Es el tamaño del vector resultante. Es decir, el número de elementos de nuestro vector generado. replace: Argumento lógico que indica si se escogeran los elementos con reemplazo o no. Su valor por defecto es FALSE, lo que implica que la elección de elementos sea sin reemplazos. prob: Vector de probabilidades que indica la ocurrencia de los elementos del elemento o vector x. Para comprender su funcionamiento, veamos un ejemplo. Si queremos escoger aleatorimente 5 elementos de un vector con elementos del 1 al 10. # Escogiendo aleatoriamente 5 elementos. sample(x=1:10, size = 5) ## [1] 10 9 5 1 4 El vector que contiene el universo de donde se escogeran los 5 números aleatoriamente es 1:10. Asimismo, con el argumento size=5 le estamos indicando que escoga 5 elementos. Está escogiendo 5 números distintos, ya que el argumento replace se está dejando con su valor por defecto que es FALSE, es decir, sin reemplazos. Es preciso aclarar que usted obtendrá resultados distintos cada vez que ejecute el ejemplo, ya que en cada ejecución el software utiliza un algoritmo distinto para seleccionar elementos. Es decir, está escogiendo aleatoriamente los elementos en cada ejecución. Veamos como con la misma sintaxis, el software, a escogido distintos elementos. # Escogiendo aleatoriamente 5 elementos. sample(x=1:10, size = 5) ## [1] 2 1 8 7 3 Entonces si queremos corregir esto y queremos guardar los resultados y que al volver a correr toda la sintaxis arroje los mismos resultados, tendremos que usar una semilla. En R, colocar una semilla a un proceso aleatorio se realiza usando la función set.seed(), que toma como argumento cualquier número (semilla). Veamos un ejemplo. Vamos a ejecutar la misma sintaxis del ejemplo anterior pero usando una semilla. set.seed(10) sample(x=1:10, size = 5) ## [1] 9 7 8 6 3 Cuando usamos la semilla con valor de 10. Nos arroja como resultado los números: 9 8 7 6 y 31. Veamos como sale el mismo resultado cuando volvemos a ejecutar la misma sintaxis. set.seed(10) sample(x=1:10, size = 5) ## [1] 9 7 8 6 3 En efecto, los resultados son los mismos. Con lo cual queda demostrado que si deseamos obtener los mismos resultados de un proceso aleatorio tendremos que usar una semilla. Ahora veamos un ejemplo un poco más atractivo. Vamos a seleccionar aleatoriamente 2 personas de un conjunto de 6 personas. set.seed(12) sample(x=c(&quot;LUIS&quot;,&quot;MARÍA&quot;,&quot;JUAN&quot;,&quot;ROBERTH&quot;,&quot;CARLOS&quot;,&quot;FLOR&quot;), size = 2) ## [1] &quot;MARÍA&quot; &quot;FLOR&quot; El software escogió a MARÍA Y FLOR. Este ejemplo se desarrollo con el fin de poder ver un ejemplo en donde el vector universal es un vector de elementos caracter. Ahora veamos un ejemplo usando el argumento replace. Vamos a generar un vector de 20 elementos en donde se escoga entre 1 y 0. set.seed(20) sample(x=c(0,1), size = 20, replace = TRUE) ## [1] 1 0 0 1 1 0 1 0 1 1 0 0 0 0 0 0 0 0 1 1 Se ha escogido aleatoriamente 20 elementos que son 1 o 0. Esto se pudo dar gracias al uso del argumento replace=TRUE. Ya que si no se hubiera especificado que haya reemplazos, nos arojaría error ya que no se puede toma una muestra más grande que el vector universal cuandi replace toma el valor de FALSE. Veamos este caso a continuación: set.seed(20) sample(x=c(0,1), size = 20) ## Error in sample.int(length(x), size, replace, prob): cannot take a sample larger than the population when &#39;replace = FALSE&#39; En efecto nos arroja un error, al correr el código. Ahora veamos un ejemplo en donde se usa el argumento prob. Vamos a escoger un vector que tenga 100 elementos entre hombres y mujeres, pero queremos que la proporción de hombres sea del 30% y de mujeres del 70%, aproximadamente. Primero ejecutemos el problema sin especificar la proporción de hombres y mujeres. set.seed(1805) sexo&lt;-sample(x=c(&quot;HOMBRE&quot;, &quot;MUJER&quot;), size = 100, replace = T) sexo ## [1] &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; ## [9] &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; ## [17] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [25] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [33] &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [41] &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [49] &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [57] &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [65] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [73] &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [81] &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [89] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; ## [97] &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; Estamos guardando los resultados en el vector sexo. Si queremos saber cuántos son hombres y cuántos son mujeres usted podría contar uno por uno, pero esto resultaría muy tedioso, la forma más eficiente es ver los resultados en una tabla de valores absolutos. Para esto usamos la función table(). Veamos el resultado a continuación. table(sexo) ## sexo ## HOMBRE MUJER ## 45 55 El software escogió aleatoriamente 45 hombres y 55 mujeres. Para poder obtener estos resultados en valores relativos usamos la función prop.table(). prop.table(table(sexo)) ## sexo ## HOMBRE MUJER ## 0.45 0.55 El 45% son hombres y el 55% son mujeres. El problema en un inicio nos decia generar un vector de hombres y mujeres en donde el 30% sea hombres y el 70% mujeres. Entonces, para poder generar el vector deseado usaremos el argumento prob. set.seed(1805) sexo&lt;-sample(x=c(&quot;HOMBRE&quot;, &quot;MUJER&quot;), size = 100, replace = T, prob = c(0.3,0.7)) sexo ## [1] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; ## [9] &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; ## [17] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [25] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [33] &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [41] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [49] &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; ## [57] &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [65] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [73] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; ## [81] &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; ## [89] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;HOMBRE&quot; &quot;HOMBRE&quot; ## [97] &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; &quot;MUJER&quot; Estamos usando la misma semilla, pero estamos especificando las probabilidades2, además, estamos guardando los resultados en el mismo vector sexo (el vector se está reescribiendo). Veamos defrente en valores relativos la proporción de hombres y mujeres. prop.table(table(sexo)) ## sexo ## HOMBRE MUJER ## 0.29 0.71 El 29% son hombres y el 71% son mujeres. En efecto, gracias a especificar el vector de probabilidades de suceso de cada elemento del vector universal se ha podido obtener la proporción del 30% y 70% entre hombres y mujeres, aproximadamente. 4.1.1 APLICACIÓN: LEY DE GRANDES NÚMEROS. Una de las leyes más importantes en la teoría de la probabilidad es la “ley de grandes números”. La cual nos dice que al aumentar el número de ensayos de un experimento, este tiende a la esperanza matemática de la variable aleatoria que se ha generado en el experimento. Por ejemplo, vamos a definir a un experimento como el lanzamiento de una moneda. Asimismo, definiremos a la variable aleatoria como el número de caras que resulte del experimento. Es así que sí sale cara la variable aleatoria tomará el valor de 1 y si sale sello la variable aleatoria tomará el valor de 0. Si sacamos la esperanza matemática de este experimento. Nos resultaría 1/2. \\[\\text{Probabilidad de que salga cara} =1/2 \\] \\[\\text{Probabilidad de que salga sello} =1/2 \\] \\[\\text{Esperanza matemática} =\\frac{1}{2}*1+\\frac{1}{2}*0 =\\frac{1}{2}\\] Lo que implica que el porcentaje de caras será el 50% y el porcentaje de sellos el otro 50%. Entonces, si nosotros desarrollamos el experimento un número pequeño de veces no nos saldrá necesariamente la mitad de veces cara y la otra mitad sello. Vamos hacer el experimento con 200 ensayos. set.seed(2020) experimento&lt;-sample(c(&quot;CARA&quot;,&quot;SELLO&quot;), 200, T) round(prop.table(table(experimento))*100,4) ## experimento ## CARA SELLO ## 46.5 53.5 Vemos que el porcentaje de caras es del 46.5% y el de sellos es de 53.5%. Pero por la ley de grandes números nosotros sabemos que al aumentar el número de ensayos el experimento tenderá a la esperanza matemática, es decir, 50% de caras y 50% de sellos. Veamos el resultado cuando el número de ensayos es de 1000. set.seed(2020) experimento&lt;-sample(c(&quot;CARA&quot;,&quot;SELLO&quot;), 1000, T) round(prop.table(table(experimento))*100,4) ## experimento ## CARA SELLO ## 48.4 51.6 Con 1000 ensayos el porcentaje de caras es del 48.4% y el de sellos es de 51.6%. Se va acercando a la esperanza matemática. Veamos que resulta con 100000 de ensayos. set.seed(2020) experimento&lt;-sample(c(&quot;CARA&quot;,&quot;SELLO&quot;), 100000, T) round(prop.table(table(experimento))*100,4) ## experimento ## CARA SELLO ## 50.136 49.864 Con 100000 ensayos el porcentaje de caras es del 50.14% y el de sellos es de 49.86%. Ya casi es igual al valor de la esperanza matemática. Por último, veamos que pasa si consideramos 1000000 ensayos. set.seed(2020) experimento&lt;-sample(c(&quot;CARA&quot;,&quot;SELLO&quot;), 1000000, T) round(prop.table(table(experimento))*100,4) ## experimento ## CARA SELLO ## 50.0036 49.9964 Con 1000000 ensayos el porcentaje de caras es del 50% y el de sellos es de 50%. Es así como hemos podido demostrar la ley de grandes números. 4.2 SELECCIÓN DE ELEMENTOS. Es probable que a usted le salga distintos números ya que el algoritmo de selección depende de la versión del software. Este libro se desarrolló usando la versión 4.0.3 de R.↩︎ Esto no implica que nos salga los mismos resultados que anteriormente, por más que se ha colocado la misma semilla, los argumentos de la sintaxis anterior han variado. Lo cual implica un nuevo proceso aleatorio.↩︎ "]
]
