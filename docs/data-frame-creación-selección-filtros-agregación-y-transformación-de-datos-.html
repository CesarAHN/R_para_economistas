<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 DATA FRAME: CREACIÓN, SELECCIÓN, FILTROS, AGREGACIÓN Y TRANSFORMACIÓN DE DATOS. | PROGRAMACIÓN Y MANEJO DE BASE DE DATOS EN R - CON UN ENFOQUE A LA ECONOMÍA</title>
  <meta name="description" content="Libro para el manejo de base de datos y programación en R, con un enfoque para estudiantes y egresados de economía." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 DATA FRAME: CREACIÓN, SELECCIÓN, FILTROS, AGREGACIÓN Y TRANSFORMACIÓN DE DATOS. | PROGRAMACIÓN Y MANEJO DE BASE DE DATOS EN R - CON UN ENFOQUE A LA ECONOMÍA" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Libro para el manejo de base de datos y programación en R, con un enfoque para estudiantes y egresados de economía." />
  <meta name="github-repo" content="CesarAHN/bookdown_intro" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 DATA FRAME: CREACIÓN, SELECCIÓN, FILTROS, AGREGACIÓN Y TRANSFORMACIÓN DE DATOS. | PROGRAMACIÓN Y MANEJO DE BASE DE DATOS EN R - CON UN ENFOQUE A LA ECONOMÍA" />
  
  <meta name="twitter:description" content="Libro para el manejo de base de datos y programación en R, con un enfoque para estudiantes y egresados de economía." />
  

<meta name="author" content="César Anderson Huamaní Ninahuanca" />


<meta name="date" content="2021-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ciclo-while-.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PROGRAMACIÓN Y MANEJO DE BASE DE DATOS EN R - PARA ECONOMISTAS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prólogo</a></li>
<li class="chapter" data-level="1" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html"><i class="fa fa-check"></i><b>1</b> R COMO CALCULADORA.</a><ul>
<li class="chapter" data-level="1.1" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#principales-operaciones-matemáticas."><i class="fa fa-check"></i><b>1.1</b> Principales operaciones matemáticas.</a></li>
<li class="chapter" data-level="1.2" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#decimales-exactos-y-redondeo-de-cifras."><i class="fa fa-check"></i><b>1.2</b> Decimales exactos y redondeo de cifras.</a><ul>
<li class="chapter" data-level="1.2.1" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#número-de-cifras."><i class="fa fa-check"></i><b>1.2.1</b> Número de cifras.</a></li>
<li class="chapter" data-level="1.2.2" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#redondeo."><i class="fa fa-check"></i><b>1.2.2</b> Redondeo.</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#guardar-o-definir-objetos."><i class="fa fa-check"></i><b>1.3</b> Guardar o definir objetos.</a></li>
<li class="chapter" data-level="1.4" data-path="r-como-calculadora-.html"><a href="r-como-calculadora-.html#funciones."><i class="fa fa-check"></i><b>1.4</b> Funciones.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="vectores-.html"><a href="vectores-.html"><i class="fa fa-check"></i><b>2</b> VECTORES.</a><ul>
<li class="chapter" data-level="2.1" data-path="vectores-.html"><a href="vectores-.html#definición-de-un-vector."><i class="fa fa-check"></i><b>2.1</b> Definición de un vector.</a></li>
<li class="chapter" data-level="2.2" data-path="vectores-.html"><a href="vectores-.html#clases-de-vectores."><i class="fa fa-check"></i><b>2.2</b> Clases de vectores.</a><ul>
<li class="chapter" data-level="2.2.1" data-path="vectores-.html"><a href="vectores-.html#cómo-saber-si-un-objeto-es-un-vector"><i class="fa fa-check"></i><b>2.2.1</b> ¿Cómo saber si un objeto es un vector?</a></li>
<li class="chapter" data-level="2.2.2" data-path="vectores-.html"><a href="vectores-.html#cómo-saber-de-que-clase-es-un-vector"><i class="fa fa-check"></i><b>2.2.2</b> ¿Cómo saber de que clase es un vector?</a></li>
<li class="chapter" data-level="2.2.3" data-path="vectores-.html"><a href="vectores-.html#qué-pasa-si-defino-un-vector-con-distintas-clases-de-elementos"><i class="fa fa-check"></i><b>2.2.3</b> ¿Qué pasa si defino un vector con distintas clases de elementos?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="vectores-.html"><a href="vectores-.html#número-de-elementos-de-un-vector."><i class="fa fa-check"></i><b>2.3</b> Número de elementos de un vector.</a></li>
<li class="chapter" data-level="2.4" data-path="vectores-.html"><a href="vectores-.html#funciones-para-construir-vectores-más-eficientemente."><i class="fa fa-check"></i><b>2.4</b> Funciones para construir vectores más eficientemente.</a><ul>
<li class="chapter" data-level="2.4.1" data-path="vectores-.html"><a href="vectores-.html#vectores-de-elementos-consecutivos"><i class="fa fa-check"></i><b>2.4.1</b> Vectores de elementos consecutivos:</a></li>
<li class="chapter" data-level="2.4.2" data-path="vectores-.html"><a href="vectores-.html#vectores-con-patrones"><i class="fa fa-check"></i><b>2.4.2</b> Vectores con patrones:</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="vectores-.html"><a href="vectores-.html#concatenar-elementos-y-vectores."><i class="fa fa-check"></i><b>2.5</b> Concatenar elementos y vectores.</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><a href="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><i class="fa fa-check"></i><b>3</b> OPERACIONES MATEMÁTICAS Y ESTADÍSTICAS CON VECTORES.</a><ul>
<li class="chapter" data-level="3.1" data-path="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><a href="operaciones-matemáticas-y-estadísticas-con-vectores-.html#operaciones-matemáticas."><i class="fa fa-check"></i><b>3.1</b> Operaciones matemáticas.</a></li>
<li class="chapter" data-level="3.2" data-path="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><a href="operaciones-matemáticas-y-estadísticas-con-vectores-.html#operaciones-estadísticas."><i class="fa fa-check"></i><b>3.2</b> Operaciones estadísticas.</a><ul>
<li class="chapter" data-level="3.2.1" data-path="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><a href="operaciones-matemáticas-y-estadísticas-con-vectores-.html#cómo-trabajar-con-missings-o-elementos-faltantes-na"><i class="fa fa-check"></i><b>3.2.1</b> ¿Cómo trabajar con missings o elementos faltantes (NA)?</a></li>
<li class="chapter" data-level="3.2.2" data-path="operaciones-matemáticas-y-estadísticas-con-vectores-.html"><a href="operaciones-matemáticas-y-estadísticas-con-vectores-.html#cómo-ordenar-elementos-de-los-vectores"><i class="fa fa-check"></i><b>3.2.2</b> ¿Cómo ordenar elementos de los vectores?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html"><i class="fa fa-check"></i><b>4</b> VECTORES ALEATORIOS y SELECCIÓN DE ELEMENTOS.</a><ul>
<li class="chapter" data-level="4.1" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#creación-de-vectores-con-elementos-aleatorios."><i class="fa fa-check"></i><b>4.1</b> Creación de vectores con elementos aleatorios.</a><ul>
<li class="chapter" data-level="4.1.1" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#aplicación-ley-de-grandes-números."><i class="fa fa-check"></i><b>4.1.1</b> Aplicación: Ley de grandes números.</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#vectores-vacios-y-selección-de-elementos."><i class="fa fa-check"></i><b>4.2</b> Vectores vacios y selección de elementos.</a><ul>
<li class="chapter" data-level="4.2.1" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#vectores-vacíos."><i class="fa fa-check"></i><b>4.2.1</b> Vectores vacíos.</a></li>
<li class="chapter" data-level="4.2.2" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#seleción-de-elementos-usando-."><i class="fa fa-check"></i><b>4.2.2</b> Seleción de elementos usando [].</a></li>
<li class="chapter" data-level="4.2.3" data-path="vectores-aleatorios-y-selección-de-elementos-.html"><a href="vectores-aleatorios-y-selección-de-elementos-.html#cómo-saber-cuántos-elementos-tiene-un-vector"><i class="fa fa-check"></i><b>4.2.3</b> ¿Cómo saber cuántos elementos tiene un vector?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><i class="fa fa-check"></i><b>5</b> OPERADORES LÓGICOS, ÍNDICE DE ELEMENTOS Y CAMBIO DE VALORES.</a><ul>
<li class="chapter" data-level="5.1" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#operadores-lógicos."><i class="fa fa-check"></i><b>5.1</b> Operadores lógicos.</a><ul>
<li class="chapter" data-level="5.1.1" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#igualdad."><i class="fa fa-check"></i><b>5.1.1</b> Igualdad.</a></li>
<li class="chapter" data-level="5.1.2" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#mayor-que."><i class="fa fa-check"></i><b>5.1.2</b> Mayor que.</a></li>
<li class="chapter" data-level="5.1.3" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#menor-que."><i class="fa fa-check"></i><b>5.1.3</b> Menor que.</a></li>
<li class="chapter" data-level="5.1.4" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#diferente."><i class="fa fa-check"></i><b>5.1.4</b> Diferente.</a></li>
<li class="chapter" data-level="5.1.5" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#negación."><i class="fa fa-check"></i><b>5.1.5</b> Negación.</a></li>
<li class="chapter" data-level="5.1.6" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#y-condicional-conjunción."><i class="fa fa-check"></i><b>5.1.6</b> Y condicional (Conjunción).</a></li>
<li class="chapter" data-level="5.1.7" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#o-condicional-disyunción."><i class="fa fa-check"></i><b>5.1.7</b> O condicional (disyunción).</a></li>
<li class="chapter" data-level="5.1.8" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#mayor-y-menor-igual-que."><i class="fa fa-check"></i><b>5.1.8</b> Mayor y menor igual que.</a></li>
<li class="chapter" data-level="5.1.9" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#operador-pertenece."><i class="fa fa-check"></i><b>5.1.9</b> Operador pertenece.</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#encontrar-el-índice-de-elementos-y-cambiar-valores."><i class="fa fa-check"></i><b>5.2</b> Encontrar el índice de elementos y cambiar valores.</a><ul>
<li class="chapter" data-level="5.2.1" data-path="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html"><a href="operadores-lógicos-índice-de-elementos-y-cambio-de-valores-.html#cambiar-valores-de-elementos."><i class="fa fa-check"></i><b>5.2.1</b> Cambiar valores de elementos.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html"><i class="fa fa-check"></i><b>6</b> FACTORES Y LISTAS.</a><ul>
<li class="chapter" data-level="6.1" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#factores."><i class="fa fa-check"></i><b>6.1</b> Factores.</a><ul>
<li class="chapter" data-level="6.1.1" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#factores-con-niveles-desordenados."><i class="fa fa-check"></i><b>6.1.1</b> Factores con niveles desordenados.</a></li>
<li class="chapter" data-level="6.1.2" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#factores-con-niveles-ordenados."><i class="fa fa-check"></i><b>6.1.2</b> Factores con niveles ordenados.</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#listas."><i class="fa fa-check"></i><b>6.2</b> Listas.</a><ul>
<li class="chapter" data-level="6.2.1" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#cómo-se-obtiene-cada-objeto-de-una-lista"><i class="fa fa-check"></i><b>6.2.1</b> ¿Cómo se obtiene cada objeto de una lista?</a></li>
<li class="chapter" data-level="6.2.2" data-path="factores-y-listas-.html"><a href="factores-y-listas-.html#asignado-nombres-a-los-objetos-de-una-lista."><i class="fa fa-check"></i><b>6.2.2</b> Asignado nombres a los objetos de una lista.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="matrices-.html"><a href="matrices-.html"><i class="fa fa-check"></i><b>7</b> MATRICES.</a><ul>
<li class="chapter" data-level="7.1" data-path="matrices-.html"><a href="matrices-.html#creación-de-matrices."><i class="fa fa-check"></i><b>7.1</b> Creación de matrices.</a></li>
<li class="chapter" data-level="7.2" data-path="matrices-.html"><a href="matrices-.html#concatenar-matrices-por-filas-o-columnas."><i class="fa fa-check"></i><b>7.2</b> Concatenar matrices por filas o columnas.</a></li>
<li class="chapter" data-level="7.3" data-path="matrices-.html"><a href="matrices-.html#selecionar-elementos-de-una-matriz."><i class="fa fa-check"></i><b>7.3</b> Selecionar elementos de una matriz.</a></li>
<li class="chapter" data-level="7.4" data-path="matrices-.html"><a href="matrices-.html#dimensiones-de-la-matriz."><i class="fa fa-check"></i><b>7.4</b> Dimensiones de la matriz.</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="álgebra-matricial-.html"><a href="álgebra-matricial-.html"><i class="fa fa-check"></i><b>8</b> ÁLGEBRA MATRICIAL.</a><ul>
<li class="chapter" data-level="8.1" data-path="álgebra-matricial-.html"><a href="álgebra-matricial-.html#operaciones-básicas."><i class="fa fa-check"></i><b>8.1</b> Operaciones básicas.</a></li>
<li class="chapter" data-level="8.2" data-path="álgebra-matricial-.html"><a href="álgebra-matricial-.html#principales-operaciones-con-matrices."><i class="fa fa-check"></i><b>8.2</b> Principales operaciones con matrices.</a></li>
<li class="chapter" data-level="8.3" data-path="álgebra-matricial-.html"><a href="álgebra-matricial-.html#solución-a-sistemas-de-ecuación."><i class="fa fa-check"></i><b>8.3</b> Solución a sistemas de ecuación.</a></li>
<li class="chapter" data-level="8.4" data-path="álgebra-matricial-.html"><a href="álgebra-matricial-.html#valores-y-vectores-propios."><i class="fa fa-check"></i><b>8.4</b> Valores y vectores propios.</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="condicional-if-else-.html"><a href="condicional-if-else-.html"><i class="fa fa-check"></i><b>9</b> CONDICIONAL IF ELSE.</a><ul>
<li class="chapter" data-level="9.1" data-path="condicional-if-else-.html"><a href="condicional-if-else-.html#condicional-if."><i class="fa fa-check"></i><b>9.1</b> Condicional if.</a></li>
<li class="chapter" data-level="9.2" data-path="condicional-if-else-.html"><a href="condicional-if-else-.html#condicional-if-else.-1"><i class="fa fa-check"></i><b>9.2</b> Condicional if else.</a></li>
<li class="chapter" data-level="9.3" data-path="condicional-if-else-.html"><a href="condicional-if-else-.html#condicional-if-else-anidado."><i class="fa fa-check"></i><b>9.3</b> Condicional if else anidado.</a></li>
<li class="chapter" data-level="9.4" data-path="condicional-if-else-.html"><a href="condicional-if-else-.html#unicidad-de-la-condicional-if."><i class="fa fa-check"></i><b>9.4</b> Unicidad de la condicional if.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html"><i class="fa fa-check"></i><b>10</b> LOOP FOR E IF ELSE PARA MÁS DE UN ELEMENTO.</a><ul>
<li class="chapter" data-level="10.1" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#loop-for."><i class="fa fa-check"></i><b>10.1</b> Loop for.</a><ul>
<li class="chapter" data-level="10.1.1" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#el-iterador-como-objeto."><i class="fa fa-check"></i><b>10.1.1</b> El iterador como objeto.</a></li>
<li class="chapter" data-level="10.1.2" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#el-iterador-como-un-subobjeto."><i class="fa fa-check"></i><b>10.1.2</b> El iterador como un subobjeto.</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#el-loop-for-con-las-condicionales-if-else."><i class="fa fa-check"></i><b>10.2</b> El loop for con las condicionales if else.</a></li>
<li class="chapter" data-level="10.3" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#función-ifelse."><i class="fa fa-check"></i><b>10.3</b> Función ifelse().</a></li>
<li class="chapter" data-level="10.4" data-path="loop-for-e-if-else-para-más-de-un-elemento-.html"><a href="loop-for-e-if-else-para-más-de-un-elemento-.html#declaración-break-y-next."><i class="fa fa-check"></i><b>10.4</b> Declaración Break y Next.</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ciclo-while-.html"><a href="ciclo-while-.html"><i class="fa fa-check"></i><b>11</b> CICLO WHILE.</a><ul>
<li class="chapter" data-level="11.1" data-path="ciclo-while-.html"><a href="ciclo-while-.html#sintaxis-del-ciclo-while."><i class="fa fa-check"></i><b>11.1</b> Sintaxis del ciclo while.</a></li>
<li class="chapter" data-level="11.2" data-path="ciclo-while-.html"><a href="ciclo-while-.html#ejemplos-de-uso-del-ciclo-while."><i class="fa fa-check"></i><b>11.2</b> Ejemplos de uso del ciclo while.</a></li>
<li class="chapter" data-level="11.3" data-path="ciclo-while-.html"><a href="ciclo-while-.html#aplicaciones-con-las-declaraciones-break-y-next."><i class="fa fa-check"></i><b>11.3</b> Aplicaciones con las declaraciones Break y Next.</a></li>
<li class="chapter" data-level="11.4" data-path="ciclo-while-.html"><a href="ciclo-while-.html#aplicación-en-la-maximización-de-beneficios-del-productor."><i class="fa fa-check"></i><b>11.4</b> Aplicación en la maximización de beneficios del productor.</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><i class="fa fa-check"></i><b>12</b> DATA FRAME: CREACIÓN, SELECCIÓN, FILTROS, AGREGACIÓN Y TRANSFORMACIÓN DE DATOS.</a><ul>
<li class="chapter" data-level="12.1" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#creación-de-data-frames."><i class="fa fa-check"></i><b>12.1</b> Creación de data frames.</a></li>
<li class="chapter" data-level="12.2" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#selección-de-columnas."><i class="fa fa-check"></i><b>12.2</b> Selección de columnas.</a><ul>
<li class="chapter" data-level="12.2.1" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#r-base---por-índice."><i class="fa fa-check"></i><b>12.2.1</b> R base - por índice.</a></li>
<li class="chapter" data-level="12.2.2" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#r-base---por-el-nombre-de-la-variable."><i class="fa fa-check"></i><b>12.2.2</b> R base - por el nombre de la variable.</a></li>
<li class="chapter" data-level="12.2.3" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#r-base---usando-expresiones-regulares."><i class="fa fa-check"></i><b>12.2.3</b> R base - usando expresiones regulares.</a></li>
<li class="chapter" data-level="12.2.4" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#dplyr---usando-la-función-select."><i class="fa fa-check"></i><b>12.2.4</b> Dplyr - Usando la función select.</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#filtro-de-filas."><i class="fa fa-check"></i><b>12.3</b> Filtro de filas.</a><ul>
<li class="chapter" data-level="12.3.1" data-path="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#usando-r-base."><i class="fa fa-check"></i><b>12.3.1</b> Usando R base.</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PROGRAMACIÓN Y MANEJO DE BASE DE DATOS EN R - CON UN ENFOQUE A LA ECONOMÍA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos." class="section level1">
<h1><span class="header-section-number">Chapter 12</span> DATA FRAME: CREACIÓN, SELECCIÓN, FILTROS, AGREGACIÓN Y TRANSFORMACIÓN DE DATOS.</h1>
<p>En este capítulo se tratará sobre la creación de uno de los objetos más importantes en R, los data frames. Asimismo, se mostrará cómo crearlos a través de vectores, cómo seleccionar entre columnas, cómo filtrar entre filas, agregar columnas y filas al data frame; y por último, transformar datos con R base. Esto nos servirá como introducción fundamental para el siguiente capítulo en donde se trabajará con distintos tipos de archivos como: xlsx, xls, sav, dta, txt, csv, entre otros.</p>
<div id="creación-de-data-frames." class="section level2">
<h2><span class="header-section-number">12.1</span> Creación de data frames.</h2>
<p>Un data frame es un objeto que compila uno o más vectores con el fin de tener una estructura compacta y ordenada. En palabras sencillas, será tu tabla de datos en donde tendrás agrupado tus variables que te permitirán desarrollar modelos, gráficos, etc.</p>
<p>La sintaxis del data frame es la siguiente:</p>
<p><code>data.frame(..., row.names = NULL, stringsAsFactors = FALSE, ...)</code></p>
<p>Donde:</p>
<p><code>...</code> = En este argumento se asignarán las columnas o variables que tendrá el data frame.<br />
<code>row.names</code> = Este argumento permite asignar los nombres de las filas, por defecto es <code>NULL</code> lo cual implica que las filas no tendrán nombres, sino una numeración consecutiva.<br />
<code>stringsAsFactors</code> = Argumento lógico que si toma el valor de <code>TRUE</code> convertirá en factores a las variables que son caracter. Su valor por defecto es <code>FALSE</code>, por lo que las variables caracter seguirán siendo caracter.<br />
<code>...</code> = Los tres puntos al final de la función nos permite asignar otros argumentos que puede encontrar en la documentación <code>?data.frame</code>.</p>
<p>Como primer ejemplo vamos a crear un data frame de 4 columnas.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-1"></a><span class="co"># Crear un data frame.</span></span>
<span id="cb1-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-2"></a><span class="kw">set.seed</span>(<span class="dv">2021</span>)</span>
<span id="cb1-3"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-3"></a>df&lt;-<span class="kw">data.frame</span>(<span class="dt">edad=</span><span class="kw">sample</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">30</span>, <span class="dv">10</span>, T), </span>
<span id="cb1-4"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-4"></a>               <span class="dt">sexo=</span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Masculino&quot;</span>,<span class="st">&quot;Femenino&quot;</span>), <span class="dv">10</span>, T),</span>
<span id="cb1-5"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-5"></a>               <span class="dt">ingresos=</span><span class="kw">sample</span>(<span class="dv">1000</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">10</span>, T),</span>
<span id="cb1-6"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb1-6"></a>               <span class="dt">raza=</span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;blanco&quot;</span>,<span class="st">&quot;negro&quot;</span>), <span class="dv">10</span>, T))</span></code></pre></div>
<p>Y veamos como queda un data frame.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb2-1"></a><span class="co"># Viendo el data frame.</span></span>
<span id="cb2-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb2-2"></a>df</span></code></pre></div>
<pre><code>##    edad      sexo ingresos   raza
## 1    16 Masculino     2211  negro
## 2    15 Masculino     1636  negro
## 3    23 Masculino     3434 blanco
## 4    16 Masculino     4885  negro
## 5    21 Masculino     1359 blanco
## 6    29  Femenino     1537  negro
## 7    15 Masculino     1163 blanco
## 8    15  Femenino     3148 blanco
## 9    15  Femenino     1341 blanco
## 10   23 Masculino     1670  negro</code></pre>
<p>El resultado que obtenemos es un data frame de 4 columnas y 10 filas. Pero ¿Cómo se hizo? Primero, hemos asignado una semilla <code>set.seed(2021)</code> porque vamos a crear vectores con elementos aleatorios. Luego, creamos el objeto <code>df</code> que tiene 4 columnas: <code>edad</code>, <code>sexo</code>, <code>ingresos</code> y <code>raza</code> todos tienen elementos aleatorios.</p>
<p>Es importante darse cuenta que para asignar objetos usamos <code>&lt;-</code> pero para asignar columnas dentro de la función <code>data.frame()</code> estamos usando <code>=</code>. Aquí un ejemplo de cuando usar <code>&lt;-</code> y cuando <code>=</code>.</p>
<p>Si usted desea ver los resultados en una pestaña y no en la consola, entonces, usted corre:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb4-1"></a><span class="co"># Para ver el data frame en una pestaña.</span></span>
<span id="cb4-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb4-2"></a><span class="kw">View</span>(df)</span></code></pre></div>
<center>
<img src="img/dataframe.JPG" title="fig:" alt="Vista del data frame" />
</center>
<p>Para ver la estructura de las columnas o variables, se usa la función <code>str()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb5-1"></a><span class="kw">str</span>(df)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  4 variables:
##  $ edad    : int  16 15 23 16 21 29 15 15 15 23
##  $ sexo    : chr  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Masculino&quot; &quot;Masculino&quot; ...
##  $ ingresos: int  2211 1636 3434 4885 1359 1537 1163 3148 1341 1670
##  $ raza    : chr  &quot;negro&quot; &quot;negro&quot; &quot;blanco&quot; &quot;negro&quot; ...</code></pre>
<p>Nos dice que las variables <code>edad</code> e <code>ingresos</code> son variables de tipo entero y las variables <code>sexo</code> y <code>raza</code> son variables de tipo caracter. Recuerde que el valor por defecto de <code>stringsAsFactors</code> es <code>FALSE</code>, por lo que las variables caracater se mantienen como caracter, si cambiamos el valor del argumento por <code>TRUE</code> entonces las variables caracter se convertirían en factor.</p>
<p>Ahora vamos a crear un data frame similar que nos servirá como ejemplo para los siguientes ejemplos.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-1"></a><span class="kw">set.seed</span>(<span class="dv">2021</span>)</span>
<span id="cb7-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-2"></a>df&lt;-<span class="kw">data.frame</span>(<span class="dt">edad=</span><span class="kw">sample</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">30</span>, <span class="dv">30</span>, T), </span>
<span id="cb7-3"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-3"></a>               <span class="dt">sexo=</span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Masculino&quot;</span>,<span class="st">&quot;Femenino&quot;</span>), <span class="dv">30</span>, T),</span>
<span id="cb7-4"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-4"></a>               <span class="dt">ingresos=</span><span class="kw">sample</span>(<span class="dv">1000</span><span class="op">:</span><span class="dv">5000</span>, <span class="dv">30</span>, T),</span>
<span id="cb7-5"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-5"></a>               <span class="dt">raza=</span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;blanco&quot;</span>,<span class="st">&quot;negro&quot;</span>), <span class="dv">30</span>, T),</span>
<span id="cb7-6"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-6"></a>               <span class="dt">material_casa=</span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;noble&quot;</span>,<span class="st">&quot;rustica&quot;</span>), <span class="dv">30</span>, T),</span>
<span id="cb7-7"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-7"></a>               <span class="dt">experiencia=</span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">15</span>,<span class="dv">30</span>,T),</span>
<span id="cb7-8"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb7-8"></a>               <span class="dt">num_hijos=</span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">30</span>, T))</span></code></pre></div>
<p>Viendo el data frame que hemos creado.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb8-1"></a>df</span></code></pre></div>
<pre><code>##    edad      sexo ingresos   raza material_casa experiencia num_hijos
## 1    16  Femenino     1680  negro         noble          15         1
## 2    15 Masculino     2144 blanco         noble           6         4
## 3    23 Masculino     2822  negro       rustica          10         4
## 4    16  Femenino     3558 blanco       rustica          12         4
## 5    21  Femenino     1368 blanco         noble           0         2
## 6    29  Femenino     4784  negro         noble           2         4
## 7    15  Femenino     4036 blanco         noble           3         4
## 8    15 Masculino     3202 blanco         noble           0         4
## 9    15 Masculino     2527 blanco         noble          12         4
## 10   23  Femenino     3442 blanco       rustica           5         3
## 11   14 Masculino     4440 blanco         noble          13         4
## 12   24  Femenino     2955 blanco         noble           4         2
## 13   16 Masculino     3981 blanco         noble          13         4
## 14   18  Femenino     1621 blanco       rustica           6         4
## 15   21  Femenino     4197 blanco       rustica          15         2
## 16   28 Masculino     2486  negro         noble          13         2
## 17   27 Masculino     2745  negro         noble          12         0
## 18   12  Femenino     4656  negro       rustica           4         4
## 19   23 Masculino     4602  negro       rustica          15         2
## 20   17  Femenino     2551  negro         noble           9         0
## 21   13 Masculino     4051 blanco         noble          10         3
## 22   14  Femenino     2505 blanco         noble           4         2
## 23   25  Femenino     4940 blanco         noble           5         4
## 24   11  Femenino     3686 blanco       rustica          13         3
## 25   28  Femenino     1361 blanco       rustica           7         4
## 26   13 Masculino     1509 blanco         noble           1         4
## 27   30 Masculino     4829  negro         noble           2         0
## 28   14  Femenino     3347  negro         noble           2         4
## 29   18 Masculino     1789 blanco         noble           6         1
## 30   15  Femenino     1549 blanco         noble           0         2</code></pre>
<p>En este caso nuestro data frame tiene 7 columnas y 30 filas. Imagínese un data frame con más filas y con más columnas, al querer verlo se mostrará una gran cantidad de datos, lo que no es recomendable, solo nos bastaría con ver un pequeño subconjunto del data frame. Entonces si queremos ver las primeras 6 filas de un data frame, se usará la función <code>head()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb10-1"></a><span class="co"># Viendo las 6 primeras filas. </span></span>
<span id="cb10-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb10-2"></a><span class="kw">head</span>(df)</span></code></pre></div>
<pre><code>##   edad      sexo ingresos   raza material_casa experiencia num_hijos
## 1   16  Femenino     1680  negro         noble          15         1
## 2   15 Masculino     2144 blanco         noble           6         4
## 3   23 Masculino     2822  negro       rustica          10         4
## 4   16  Femenino     3558 blanco       rustica          12         4
## 5   21  Femenino     1368 blanco         noble           0         2
## 6   29  Femenino     4784  negro         noble           2         4</code></pre>
<p>Pero quizá desee ver una cantidad mayor o menor de filas. Para esto se usa la misma función pero especificando el número de filas en el argumento <code>n</code> de la función <code>head()</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb12-1"></a><span class="co"># Viendo las 3 primeras filas.</span></span>
<span id="cb12-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb12-2"></a><span class="kw">head</span>(df, <span class="dt">n=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>##   edad      sexo ingresos   raza material_casa experiencia num_hijos
## 1   16  Femenino     1680  negro         noble          15         1
## 2   15 Masculino     2144 blanco         noble           6         4
## 3   23 Masculino     2822  negro       rustica          10         4</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb14-1"></a><span class="co"># Viendo las 10 primeras filas.</span></span>
<span id="cb14-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb14-2"></a><span class="kw">head</span>(df, <span class="dt">n=</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##    edad      sexo ingresos   raza material_casa experiencia num_hijos
## 1    16  Femenino     1680  negro         noble          15         1
## 2    15 Masculino     2144 blanco         noble           6         4
## 3    23 Masculino     2822  negro       rustica          10         4
## 4    16  Femenino     3558 blanco       rustica          12         4
## 5    21  Femenino     1368 blanco         noble           0         2
## 6    29  Femenino     4784  negro         noble           2         4
## 7    15  Femenino     4036 blanco         noble           3         4
## 8    15 Masculino     3202 blanco         noble           0         4
## 9    15 Masculino     2527 blanco         noble          12         4
## 10   23  Femenino     3442 blanco       rustica           5         3</code></pre>
<p>Quizá usted desee ver las 6 últimas filas, entonces, se usará la función <code>tail()</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb16-1"></a><span class="co"># Viendo las últimas 6 filas.</span></span>
<span id="cb16-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb16-2"></a><span class="kw">tail</span>(df)</span></code></pre></div>
<pre><code>##    edad      sexo ingresos   raza material_casa experiencia num_hijos
## 25   28  Femenino     1361 blanco       rustica           7         4
## 26   13 Masculino     1509 blanco         noble           1         4
## 27   30 Masculino     4829  negro         noble           2         0
## 28   14  Femenino     3347  negro         noble           2         4
## 29   18 Masculino     1789 blanco         noble           6         1
## 30   15  Femenino     1549 blanco         noble           0         2</code></pre>
<p>Esta función es similar a <code>head()</code> así que también acepta el argumento <code>n</code> pero ahora mostrará las últimas columnas.</p>
<p>Si usted desea ver los nombres de las columnas, entonces, tiene que usar la función <code>names()</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb18-1"></a><span class="kw">names</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;edad&quot;          &quot;sexo&quot;          &quot;ingresos&quot;      &quot;raza&quot;         
## [5] &quot;material_casa&quot; &quot;experiencia&quot;   &quot;num_hijos&quot;</code></pre>
<p>Esta función también nos sirve para poder cambiar los nombres de las columnas o variables. Por ejemplo, vamos a cambiar el nombre de la variable <code>sexo</code> por <code>genero</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb20-1"></a><span class="kw">names</span>(df)[<span class="dv">2</span>]&lt;-<span class="st">&quot;genero&quot;</span></span></code></pre></div>
<p>Usamos <code>names(df)</code> para llamar a los nombres y luego colocamos el <code>[2]</code> porque con aquello llamamos al elemento 2 del vector de nombres, el elemento 2 es <code>sexo</code>, entonces, ahora le asignamos el valor de <code>genero</code>.</p>
<p>Veamos ahora como ha quedado con el cambio de nombre.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb21-1"></a><span class="kw">names</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;edad&quot;          &quot;genero&quot;        &quot;ingresos&quot;      &quot;raza&quot;         
## [5] &quot;material_casa&quot; &quot;experiencia&quot;   &quot;num_hijos&quot;</code></pre>
<p>Y en efecto, ahora la segunda variable que se llamaba <code>sexo</code> ahora se llama <code>genero</code>. Usted puede cambiar uno o más o todos los nombres de las variables. Veamos un ejemplo adicional para que usted pueda generalizar este conocimiento.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb23-1"></a><span class="kw">names</span>(df)[<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dv">6</span>)]&lt;-<span class="kw">c</span>(<span class="st">&quot;EDAD&quot;</span>,<span class="st">&quot;GENERO&quot;</span>,<span class="st">&quot;EXPERIENCIA&quot;</span>)</span></code></pre></div>
<p>Lo que hemos hecho es cambiar el nombre de las variables de posición 1, 2 y 6.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb24-1"></a><span class="kw">names</span>(df)</span></code></pre></div>
<pre><code>## [1] &quot;EDAD&quot;          &quot;GENERO&quot;        &quot;ingresos&quot;      &quot;raza&quot;         
## [5] &quot;material_casa&quot; &quot;EXPERIENCIA&quot;   &quot;num_hijos&quot;</code></pre>
<p>Ahora, si queremos saber la dimensión de nuestro data frame, es decir, el número de filas y columnas. Para obtener esta información se usa la función <code>dim()</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb26-1"></a><span class="co"># Para saber el número de filas y columnas del data frame.</span></span>
<span id="cb26-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb26-2"></a><span class="kw">dim</span>(df)</span></code></pre></div>
<pre><code>## [1] 30  7</code></pre>
<p>El resultado de posición 1 es el número de filas y el resultado de posición 2 es el número de columnas. Entonces, si deseamos saber solo el número de filas o solo el número de columnas escribiremos.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb28-1"></a><span class="co"># Para saber el número de filas.</span></span>
<span id="cb28-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb28-2"></a><span class="kw">dim</span>(df)[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb30-1"></a><span class="co"># Para saber el número de columnas. </span></span>
<span id="cb30-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb30-2"></a><span class="kw">dim</span>(df)[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
</div>
<div id="selección-de-columnas." class="section level2">
<h2><span class="header-section-number">12.2</span> Selección de columnas.</h2>
<p>Para seleccionar columnas o variables vamos a usar R base y el paquete <code>dplyr</code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, por cada uno veremos distintas maneras.</p>
<div id="r-base---por-índice." class="section level3">
<h3><span class="header-section-number">12.2.1</span> R base - por índice.</h3>
<p>La sintaxis es similar a la que se usó para seleccionar columnas de las matrices. Recordar que una matriz tiene la siguiente estructura: <code>matriz[i,j]</code>. Donde la <code>i</code> hace referencia a las filas y la <code>j</code> hace referencia a las columnas. Lo mismo es para los data frames.</p>
<p>Entonces, si deseamos seleccionar la segunda columna del data frame, entonces la sintaxis sería la siguiente:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb32-1"></a><span class="co"># Seleccionando la segunda columna.</span></span>
<span id="cb32-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb32-2"></a>df[,<span class="dv">2</span>] </span></code></pre></div>
<pre><code>##  [1] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Femenino&quot; 
##  [7] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot; 
## [13] &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot; 
## [19] &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Femenino&quot; 
## [25] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot;</code></pre>
<p>Para seleccionar la columna 1, 3 y 6.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb34-1"></a>df[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>)] <span class="co"># Selección de las columnas 1, 3 y 6.</span></span></code></pre></div>
<pre><code>##    EDAD ingresos EXPERIENCIA
## 1    16     1680          15
## 2    15     2144           6
## 3    23     2822          10
## 4    16     3558          12
## 5    21     1368           0
## 6    29     4784           2
## 7    15     4036           3
## 8    15     3202           0
## 9    15     2527          12
## 10   23     3442           5
## 11   14     4440          13
## 12   24     2955           4
## 13   16     3981          13
## 14   18     1621           6
## 15   21     4197          15
## 16   28     2486          13
## 17   27     2745          12
## 18   12     4656           4
## 19   23     4602          15
## 20   17     2551           9
## 21   13     4051          10
## 22   14     2505           4
## 23   25     4940           5
## 24   11     3686          13
## 25   28     1361           7
## 26   13     1509           1
## 27   30     4829           2
## 28   14     3347           2
## 29   18     1789           6
## 30   15     1549           0</code></pre>
</div>
<div id="r-base---por-el-nombre-de-la-variable." class="section level3">
<h3><span class="header-section-number">12.2.2</span> R base - por el nombre de la variable.</h3>
<p>Se usará la misma sintaxis que anteriormente, pero en vez de índices se colocará los nombres de las columnas.</p>
<p>Por ejemplo, si se quiere seleccionar la segunda columna.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb36-1"></a><span class="co"># Seleccionado la segunda columna.</span></span>
<span id="cb36-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb36-2"></a>df[,<span class="st">&quot;GENERO&quot;</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Femenino&quot; 
##  [7] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot; 
## [13] &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot; 
## [19] &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Femenino&quot;  &quot;Femenino&quot; 
## [25] &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Masculino&quot; &quot;Femenino&quot;  &quot;Masculino&quot; &quot;Femenino&quot;</code></pre>
<p>Para seleccionar las columnas 3 y 4.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb38-1"></a><span class="co"># Seleccionado la columna 3 y 4.</span></span>
<span id="cb38-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb38-2"></a>df[,<span class="kw">c</span>(<span class="st">&quot;ingresos&quot;</span>,<span class="st">&quot;raza&quot;</span>)]</span></code></pre></div>
<pre><code>##    ingresos   raza
## 1      1680  negro
## 2      2144 blanco
## 3      2822  negro
## 4      3558 blanco
## 5      1368 blanco
## 6      4784  negro
## 7      4036 blanco
## 8      3202 blanco
## 9      2527 blanco
## 10     3442 blanco
## 11     4440 blanco
## 12     2955 blanco
## 13     3981 blanco
## 14     1621 blanco
## 15     4197 blanco
## 16     2486  negro
## 17     2745  negro
## 18     4656  negro
## 19     4602  negro
## 20     2551  negro
## 21     4051 blanco
## 22     2505 blanco
## 23     4940 blanco
## 24     3686 blanco
## 25     1361 blanco
## 26     1509 blanco
## 27     4829  negro
## 28     3347  negro
## 29     1789 blanco
## 30     1549 blanco</code></pre>
</div>
<div id="r-base---usando-expresiones-regulares." class="section level3">
<h3><span class="header-section-number">12.2.3</span> R base - usando expresiones regulares.</h3>
<p>Podemos usar expresiones regulares, pero aún veremos ese tema en capítulos posteriores. Por el momento solo dejaremos la sintaxis y después de revisar el tema de expresiones regulares usted podrá entender al 100% la sintaxis.</p>
<p>Por ejemplo, vamos a seleccionar las columnas que terminan en “a” o en “O”.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb40-1"></a><span class="co"># Seleccioando las columnas que terminan en &quot;a&quot; o en &quot;o&quot;.</span></span>
<span id="cb40-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb40-2"></a>df[,<span class="kw">grepl</span>(<span class="st">&quot;a$|O$&quot;</span>,<span class="kw">names</span>(df))]</span></code></pre></div>
<pre><code>##       GENERO   raza material_casa
## 1   Femenino  negro         noble
## 2  Masculino blanco         noble
## 3  Masculino  negro       rustica
## 4   Femenino blanco       rustica
## 5   Femenino blanco         noble
## 6   Femenino  negro         noble
## 7   Femenino blanco         noble
## 8  Masculino blanco         noble
## 9  Masculino blanco         noble
## 10  Femenino blanco       rustica
## 11 Masculino blanco         noble
## 12  Femenino blanco         noble
## 13 Masculino blanco         noble
## 14  Femenino blanco       rustica
## 15  Femenino blanco       rustica
## 16 Masculino  negro         noble
## 17 Masculino  negro         noble
## 18  Femenino  negro       rustica
## 19 Masculino  negro       rustica
## 20  Femenino  negro         noble
## 21 Masculino blanco         noble
## 22  Femenino blanco         noble
## 23  Femenino blanco         noble
## 24  Femenino blanco       rustica
## 25  Femenino blanco       rustica
## 26 Masculino blanco         noble
## 27 Masculino  negro         noble
## 28  Femenino  negro         noble
## 29 Masculino blanco         noble
## 30  Femenino blanco         noble</code></pre>
</div>
<div id="dplyr---usando-la-función-select." class="section level3">
<h3><span class="header-section-number">12.2.4</span> Dplyr - Usando la función select.</h3>
<p>Para usar el paquete <code>dplyr</code> primero tenemos que instalar el paquete y luego cargarlo. Para instalar el paquete usamos la siguiente sintaxis.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb42-1"></a><span class="co"># Instalando el paquete.</span></span>
<span id="cb42-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb42-2"></a><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<p>Y para cargar el paquete.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb43-1"></a><span class="kw">library</span>(dplyr)</span></code></pre></div>
<p>Una vez hecho estos pasos podemos usar las funciones de este paquete y poder seleccionar columnas con la función <code>select()</code>.</p>
<p>Por ejemplo, vamos a seleccionar la columna <code>num_hijos</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb44-1"></a><span class="co"># Seleccionando la columna num_hijos.</span></span>
<span id="cb44-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb44-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="st">&quot;num_hijos&quot;</span>)</span></code></pre></div>
<pre><code>##    num_hijos
## 1          1
## 2          4
## 3          4
## 4          4
## 5          2
## 6          4
## 7          4
## 8          4
## 9          4
## 10         3
## 11         4
## 12         2
## 13         4
## 14         4
## 15         2
## 16         2
## 17         0
## 18         4
## 19         2
## 20         0
## 21         3
## 22         2
## 23         4
## 24         3
## 25         4
## 26         4
## 27         0
## 28         4
## 29         1
## 30         2</code></pre>
<p>Para seleccionar las columnas <code>material_casa</code> y <code>EXPERIENCIA</code>.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb46-1"></a><span class="co"># Seleccionando las columnas material_casa y EXPERIENCIA.</span></span>
<span id="cb46-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb46-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="st">&quot;material_casa&quot;</span>,<span class="st">&quot;EXPERIENCIA&quot;</span>)</span></code></pre></div>
<pre><code>##    material_casa EXPERIENCIA
## 1          noble          15
## 2          noble           6
## 3        rustica          10
## 4        rustica          12
## 5          noble           0
## 6          noble           2
## 7          noble           3
## 8          noble           0
## 9          noble          12
## 10       rustica           5
## 11         noble          13
## 12         noble           4
## 13         noble          13
## 14       rustica           6
## 15       rustica          15
## 16         noble          13
## 17         noble          12
## 18       rustica           4
## 19       rustica          15
## 20         noble           9
## 21         noble          10
## 22         noble           4
## 23         noble           5
## 24       rustica          13
## 25       rustica           7
## 26         noble           1
## 27         noble           2
## 28         noble           2
## 29         noble           6
## 30         noble           0</code></pre>
<p>En los dos ejemplos se ha usado el operador <code>%&gt;%</code>, este operador es llamado <code>pipe</code>, que juega el rol de enlace entre sintaxis. Por ejemplo, en el primer ejemplo está enlazando <code>df</code> con <code>select("num_hijos")</code>, es decir, lo que se le está indicando al software es vas a seleccionar la variable <code>num_hijos</code> del data frame <code>df</code>.</p>
<p>Para que usted se de cuenta, la sintaxis sin el uso del <code>pipe</code> sería el siguiente.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb48-1"></a><span class="co"># Seleccionando la columna num_hijos.</span></span>
<span id="cb48-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb48-2"></a><span class="kw">select</span>(df, <span class="st">&quot;num_hijos&quot;</span>)</span></code></pre></div>
<pre><code>##    num_hijos
## 1          1
## 2          4
## 3          4
## 4          4
## 5          2
## 6          4
## 7          4
## 8          4
## 9          4
## 10         3
## 11         4
## 12         2
## 13         4
## 14         4
## 15         2
## 16         2
## 17         0
## 18         4
## 19         2
## 20         0
## 21         3
## 22         2
## 23         4
## 24         3
## 25         4
## 26         4
## 27         0
## 28         4
## 29         1
## 30         2</code></pre>
<p>El <code>pipe</code> sirve mucho para sintaxis largas ya que el código se va acortando gracias a este operador. En capítulos posteriores verá más a detalle su potencial.</p>
<p>Ahora, la función <code>select()</code> también acepta otras funciones como argumentos que lo hacen más versátil. Por ejemplo, podemos usar las funciones <code>starts_with()</code> o <code>ends_with()</code> o <code>contains()</code> o <code>matches()</code>.</p>
<p>Veamos ejemplos de cada uno a continuación.</p>
<p>Si deseamos seleccionar columnas que empiezan con un determinado caracter o caracteres tendremos que usar la función <code>starts_with()</code>. Por ejemplo, queremos seleccionar las columnas que empiezan con la letra “E”.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb50-1"></a><span class="co"># Seleccionando las columnas que empiezan con la letra &quot;E&quot;.</span></span>
<span id="cb50-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb50-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;E&quot;</span>))</span></code></pre></div>
<pre><code>##    EDAD EXPERIENCIA
## 1    16          15
## 2    15           6
## 3    23          10
## 4    16          12
## 5    21           0
## 6    29           2
## 7    15           3
## 8    15           0
## 9    15          12
## 10   23           5
## 11   14          13
## 12   24           4
## 13   16          13
## 14   18           6
## 15   21          15
## 16   28          13
## 17   27          12
## 18   12           4
## 19   23          15
## 20   17           9
## 21   13          10
## 22   14           4
## 23   25           5
## 24   11          13
## 25   28           7
## 26   13           1
## 27   30           2
## 28   14           2
## 29   18           6
## 30   15           0</code></pre>
<p>Y en efecto se han seleccionado las columnas <code>EDAD</code> y <code>EXPERIENCIA</code>, porque las dos variables empiezan con la letra “E”.</p>
<p>Ahora si se desea seleccionar las columnas que terminan en uno o más caracteres entonces, tendremos que usar la función <code>ends_with()</code>. Por ejemplo, vamos a seleccionar las columnas que terminan en “a”.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb52-1"></a><span class="co"># Seleccionando las columnas que terminan en &quot;a&quot;.</span></span>
<span id="cb52-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb52-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">ends_with</span>(<span class="st">&quot;a&quot;</span>))</span></code></pre></div>
<pre><code>##      raza material_casa EXPERIENCIA
## 1   negro         noble          15
## 2  blanco         noble           6
## 3   negro       rustica          10
## 4  blanco       rustica          12
## 5  blanco         noble           0
## 6   negro         noble           2
## 7  blanco         noble           3
## 8  blanco         noble           0
## 9  blanco         noble          12
## 10 blanco       rustica           5
## 11 blanco         noble          13
## 12 blanco         noble           4
## 13 blanco         noble          13
## 14 blanco       rustica           6
## 15 blanco       rustica          15
## 16  negro         noble          13
## 17  negro         noble          12
## 18  negro       rustica           4
## 19  negro       rustica          15
## 20  negro         noble           9
## 21 blanco         noble          10
## 22 blanco         noble           4
## 23 blanco         noble           5
## 24 blanco       rustica          13
## 25 blanco       rustica           7
## 26 blanco         noble           1
## 27  negro         noble           2
## 28  negro         noble           2
## 29 blanco         noble           6
## 30 blanco         noble           0</code></pre>
<p>Y nos selecciona las columnas <code>material_casa</code>, <code>raza</code> y <code>EXPERIENCIA</code>, ya que estas variables terminan en “a”.</p>
<p>Si deseamos seleccionar columnas que contengan uno o más caracteres, se usará la función <code>contains()</code>. Por ejemplo queremos seleccionar las columnas que contengan los caracteres “er”.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb54-1"></a><span class="co"># Seleccionando las columnas que contengan &quot;er&quot;.</span></span>
<span id="cb54-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb54-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;er&quot;</span>))</span></code></pre></div>
<pre><code>##       GENERO material_casa EXPERIENCIA
## 1   Femenino         noble          15
## 2  Masculino         noble           6
## 3  Masculino       rustica          10
## 4   Femenino       rustica          12
## 5   Femenino         noble           0
## 6   Femenino         noble           2
## 7   Femenino         noble           3
## 8  Masculino         noble           0
## 9  Masculino         noble          12
## 10  Femenino       rustica           5
## 11 Masculino         noble          13
## 12  Femenino         noble           4
## 13 Masculino         noble          13
## 14  Femenino       rustica           6
## 15  Femenino       rustica          15
## 16 Masculino         noble          13
## 17 Masculino         noble          12
## 18  Femenino       rustica           4
## 19 Masculino       rustica          15
## 20  Femenino         noble           9
## 21 Masculino         noble          10
## 22  Femenino         noble           4
## 23  Femenino         noble           5
## 24  Femenino       rustica          13
## 25  Femenino       rustica           7
## 26 Masculino         noble           1
## 27 Masculino         noble           2
## 28  Femenino         noble           2
## 29 Masculino         noble           6
## 30  Femenino         noble           0</code></pre>
<p>Y en efecto, nos selecciona las columnas <code>GENERO</code>, <code>material_casa</code> y <code>EXPERIENCIA</code>.</p>
<p>Por último, la función <code>matches()</code> sirve para seleccionar columnas usando expresiones regulares. Usaremos la misma expresión regular que en el ejemplo de R base, con lo cual seleccionaremos las columnas que terminan en “a” o en “O”.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb56-1"></a><span class="co"># Seleccionando las columnas que terminan en &quot;a&quot; o en &quot;O&quot;.</span></span>
<span id="cb56-2"><a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#cb56-2"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">matches</span>(<span class="st">&quot;a$|O$&quot;</span>))</span></code></pre></div>
<pre><code>##       GENERO   raza material_casa EXPERIENCIA
## 1   Femenino  negro         noble          15
## 2  Masculino blanco         noble           6
## 3  Masculino  negro       rustica          10
## 4   Femenino blanco       rustica          12
## 5   Femenino blanco         noble           0
## 6   Femenino  negro         noble           2
## 7   Femenino blanco         noble           3
## 8  Masculino blanco         noble           0
## 9  Masculino blanco         noble          12
## 10  Femenino blanco       rustica           5
## 11 Masculino blanco         noble          13
## 12  Femenino blanco         noble           4
## 13 Masculino blanco         noble          13
## 14  Femenino blanco       rustica           6
## 15  Femenino blanco       rustica          15
## 16 Masculino  negro         noble          13
## 17 Masculino  negro         noble          12
## 18  Femenino  negro       rustica           4
## 19 Masculino  negro       rustica          15
## 20  Femenino  negro         noble           9
## 21 Masculino blanco         noble          10
## 22  Femenino blanco         noble           4
## 23  Femenino blanco         noble           5
## 24  Femenino blanco       rustica          13
## 25  Femenino blanco       rustica           7
## 26 Masculino blanco         noble           1
## 27 Masculino  negro         noble           2
## 28  Femenino  negro         noble           2
## 29 Masculino blanco         noble           6
## 30  Femenino blanco         noble           0</code></pre>
<p>Y en efecto, selecciona las columnas <code>GENERO</code>, <code>raza</code>, <code>material_casa</code> y <code>EXPERIENCIA</code>. Para el caso de la función select las mayúsculas y minúsculas no se diferencian a menos que se cambie uno de los argumentos el cual es <code>ignore.case</code>. Pero esto ya se verá en el tema de expresiones regulares.</p>
</div>
</div>
<div id="filtro-de-filas." class="section level2">
<h2><span class="header-section-number">12.3</span> Filtro de filas.</h2>
<p>Al igual que anteriormente, el filtro de filas puede hacerse por medio de R base o usando el paquete <code>dplyr</code><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<div id="usando-r-base." class="section level3">
<h3><span class="header-section-number">12.3.1</span> Usando R base.</h3>

</div>
</div>
</div>







<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Este paquete es uno de los más usados por los usuarios de R, ya que su sintaxis es muy intuitiva. Es uno de los paquetes del entorno tidyverse que contiene a otros paquetes como ggplot, stringr, purrr, entre otros.<a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Estos no son los únicos medios, en R se tiene una gran variedad, por ejemplo podemos usar el paquete <code>data.table</code> para filtrar o seleccionar columnas. Este paquete es muy bueno para grandes cantidades de datos, pero en este libro no lo veremos a profundidad.<a href="data-frame-creación-selección-filtros-agregación-y-transformación-de-datos-.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ciclo-while-.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/CesarAHN/R_para_economistas/edit/master/12-data-frame-en-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/CesarAHN/R_para_economistas/blob/master/12-data-frame-en-R.Rmd",
"text": null
},
"download": ["bookdownproj.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
